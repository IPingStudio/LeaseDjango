<!doctype html>
<html>
<head>
	<meta charset="utf-8">
	<title>用户信息</title>
	<script type="text/javascript" src="../static/js/jquery.min.js"></script>
	<!--<script type="text/javascript" src="http://cdn.static.runoob.com/libs/jquery/1.10.2/jquery.min.js"></script>-->
	<script type="text/javascript" src="../static/js/init.js"></script>
	<script type="text/javascript" src="../static/js/TableBase.js"></script>
	<script type="text/javascript" src="../static/js/InformationBase.js"></script>
	<script type="text/javascript" src="../static/js/DragDiv.js"></script>
	<script type="text/javascript" src="../static/js/PrintFile.js"></script>
	<script type="text/javascript">
		var modelName = 'user';
		var dics;
		var infoData;
		var currentInfo;
		window.onload = function(){
			init();
		}
	</script>
	<link href="../static/css/drag.css" rel="stylesheet" media="screen"/>
	<link href="../static/css/TableBase.css" rel="stylesheet" media="screen"/>
</head>

<body>
	{% extends 'users/base.html' %}
	{% load bootstrap3 %}
	{% block content %}
	<input id="dictsData" type="hidden" data="{{ dicts }}" />
	<input id="infoData" type="hidden" data="{{ userInfos }}" />
	<div class="table-responsive">
		<div>
			<input id="addUserBtn" class="btn btn-primary btn-lg" type="button" onClick="openUserPopup(this);" value="添加用户信息"/>
			<input id="editUserBtn" class="btn btn-primary btn-lg" type="button" disabled="true" onClick="openUserPopup(this);" value="修改"/>
			<input id="delUserBtn" class="btn btn-primary btn-lg" type="button" disabled="true" onClick="deleteUserInfo()" value="删除"/>
		</div>
		<table id="userInformationTalbe" class="table table-striped table-sm">
			<thead class="infoTableHead">
				<tr>
					<th data="username">登录名</th>
					<!--<th data="password">密码</th>-->
					<th data="displayName">用户名</th>
					<th data="telephone">联系电话</th>
					<th data="authority">权限</th>
				</tr>
			</thead>
			<tbody>
			</tbody>
		</table>
	</div>

	<div id="popupMake" class="Dialog-make" style="display: none; z-index: 98;"></div>
	<div id="userAddDiv" class="addEditPopupDiv" style="width: 500px; height: 320px; z-index: 99;">
		<div id="userAddTop" class="popupTopDiv" onMouseDown="divDragStart(event);" onMouseUp="divDragEnd(event);">
			<label style="user-select: none; width: 200px; float: left; pointer-events: none;">用户信息</label>
			<span style="width: 100%; pointer-events: none;"></span>
			<a onClick="closeUserPopup();" style="float: right; cursor: pointer; padding-right: 5px;">X</a>
		</div>
		<div class="popupBodyDiv">
			<form id="userForm" class="needs-validation" style="width: inherit; overflow-x: hidden; overflow-y: auto; margin-bottom: 70px;">
				{% csrf_token %}
				<div class="row" style="height: 70px">
					<div class="col-md-6 mb-3">
						<label for="username">登录名</label>
						<input id="username" class="form-control" type="text" name="username"/>
						<div class="invalid-feedback"></div>
					</div>
					<div class="col-md-6 mb-3">
						<label for="password">密码</label>
						<input id="password" class="form-control" type="text" name="password"/>
						<div class="invalid-feedback"></div>
					</div>
				</div>
				<div class="row" style="height: 70px">
					<div class="col-md-6 mb-3">
						<label for="displayName">用户名</label>
						<input id="displayName" class="form-control" type="text" name="displayName"/>
						<div class="invalid-feedback"></div>
					</div>
					<div class="col-md-6 mb-3">
						<label for="telephone">联系电话</label>
						<input id="telephone" class="form-control" type="text" name="telephone"/>
						<div class="invalid-feedback"></div>
					</div>
				</div>
				<div class="row" style="height: 70px">
					<div class="col-md-6 mb-3">
						<label for="authority">权限</label>
						<select id="authority" name="authority" class="form-control"></select>
						<div class="invalid-feedback"></div>
					</div>
					<div class="col-md-6 mb-3">
					</div>
				</div>
			</form>
			<div class="btnDiv row">
				<input type="submit" class="btn btn-primary btn-lg" value="保存" form="userForm"/>
				<input type="button" class="btn btn-primary btn-lg" onClick="closeUserPopup();" value="取消"/>
			</div>
		</div>
	</div>
	{% endblock content %}
</body>
</html>